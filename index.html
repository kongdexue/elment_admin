<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <!-- 引入样式 -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<style>
  [v-cloak] {
  display: none;
}
</style> 
</head>
<body>
<div id="app">
<el-container v-cloak style="height: 500px; border: 1px solid #eee">
  <el-aside width="200px">
    <el-menu>
      <template slot="title">导航一</template>
      <el-submenu index="1">
        <template slot="title"><i class="el-icon-location"></i>分组一</template>
        <el-menu-item index="1-1">选项一</el-menu-item>
        <el-menu-item index="1-2">选项二</el-menu-item>
      </el-submenu>
      <el-submenu index="2">
          <template slot="title"><i class="el-icon-location"></i>分组二</template>
          <el-menu-item index="1-1">选项一</el-menu-item>
          <el-menu-item index="1-2">选项二</el-menu-item>
        </el-submenu>
    </el-menu>
  </el-aside>
  <el-container>
    <el-header style="border: 1px solid #eee;">
        <el-row>
            <el-col :span="16"><el-breadcrumb separator=">">
                <el-breadcrumb-item>首页</el-breadcrumb-item>
                <el-breadcrumb-item>二层</el-breadcrumb-item>
                <el-breadcrumb-item>三层</el-breadcrumb-item>
              </el-breadcrumb></el-col>
            <el-col :span="8"> 
                <el-row>
                    <el-dropdown trigger="click" >
                        <el-col :span="16"><p>kongdeuxe</p></el-col>
                        <el-col :span="8"><div><img src="287075.jpg" width="50"/></div></el-col> 
                      
                      <el-dropdown-menu slot="dropdown">
                        <el-dropdown-item>1</el-dropdown-item>
                        <el-dropdown-item>2</el-dropdown-item>
                        <el-dropdown-item>3</el-dropdown-item>
                      </el-dropdown-menu>
                    </el-dropdown>
                </el-row>
             
          </el-col>
          </el-row>
    </el-header>
    <el-main style="border: 1px solid #eee;">
      <el-table :data="tableData" style="width:100%" stripe v-loading="isLoading" >
        <el-table-column label="title" prop="title" width="180"></el-table-column>
        <el-table-column label="create_at"  width="180">
          <template slot-scope="scope">
            <i class="el-icon-time"></i>
            <span>{{scope.row.create_at}}</span>
          </template>
        </el-table-column>
        <el-table-column label="visit_count" prop="visit_count" width="180"></el-table-column>
        <el-table-column label="操作" width="200">
          <template slot-scope="scope">
              <el-button size="mini" type="success">编辑</el-button>
              <el-button size="mini" type="danger" @click="dialogVisible" >删除</el-button>
          </template>
      </el-table-column>

      </el-table>
    <el-pagination 
      @size-change="changesize"  
      @current-change="changeCurrent" 

      :current-page="activePage" 
      :page-size="activePageSize" 

      :page-sizes="[5, 10, 15, 20]"
      :layout="'total, sizes, prev, pager, next, jumper'" 
      :total="200">
    </el-pagination>
    <el-dialog
    title="提示"
    :visible.sync="dialogVisible"
    :before-close="handleClose">
    <span>这是一段信息</span>
    <span slot="footer" class="dialog-footer">
      <el-button @click="dialogVisible = false">取 消</el-button>
      <el-button type="primary" @click="dialogVisible = false">确 定</el-button>
    </span>
  </el-dialog>
    </el-main>
  </el-container>
</el-container>

</div>
</body>
  <!-- 先引入 Vue -->
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <!-- 引入组件库 -->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script>
    new Vue({
      el: '#app',
      data: {
        tableData: [],
        isLoading:true,
        activePageSize:10,
        activePage:1,
        dialogVisible: false
      },
      mounted:function(){
        this.getList();
      },
       methods: {
           getList:function(){
            axios.get("https://cnodejs.org/api/v1/topics",{
              params:{
                page:this.activePage,
                limit:this.activePageSize
              }
            }).then(function(response){
              this.isLoading=false;
             this.tableData=response.data.data;

            }.bind(this))
           },
           changesize:function(index){
            this.activePageSize=index;
          },
          changeCurrent:function(page){
            this.activePage=page;
          },
          handleClose(done) {
        this.$confirm('确认关闭？')
      
    }
        },
        watch:{
          activePage:function(){
            this.getList();
          },
          activePageSize:function(){
            this.getList();
          }
        },

       
        
    })
  </script>
</html>